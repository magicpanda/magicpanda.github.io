<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健身计算器 - 健身天地</title>
    <meta name="description" content="使用我们的专业健身计算器工具，包括BMI计算器、BMR计算器、热量需求计算器等，帮助您更科学地健身">
    <link rel="stylesheet" href="css/style.css">
    <!-- 引入字体图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* 计算器页面特定样式 */
        .calculator-hero {
            height: 50vh;
            min-height: 350px;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('images/calculator-hero.jpg') no-repeat center center/cover;
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--light-text);
        }

        .calculator-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .calculator-hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        /* 计算器导航标签 */
        .calculator-tabs {
            background-color: var(--secondary-color);
            padding: 15px 0;
            position: sticky;
            top: 70px;
            z-index: 90;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .calculator-tabs ul {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            list-style: none;
        }

        .calculator-tabs ul li a {
            color: #fff;
            padding: 10px 20px;
            border-radius: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .calculator-tabs ul li a:hover,
        .calculator-tabs ul li a.active {
            background-color: var(--primary-color);
        }

        /* 计算器卡片 */
        .calculator-section {
            padding: 80px 0;
        }

        .calculator-section:nth-child(even) {
            background-color: var(--background-color);
        }

        .calculator-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 50px;
        }

        .calculator-intro h2 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .calculator-intro p {
            color: #666;
            line-height: 1.8;
        }

        .calculator-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            margin-bottom: 50px;
            overflow: hidden;
        }

        .calculator-header {
            background-color: var(--secondary-color);
            padding: 20px;
            color: #fff;
            display: flex;
            align-items: center;
        }

        .calculator-header i {
            margin-right: 15px;
            font-size: 1.8rem;
        }

        .calculator-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .calculator-body {
            padding: 30px;
        }

        .calculator-description {
            margin-bottom: 25px;
            color: #666;
            line-height: 1.6;
        }

        /* 表单样式 */
        .calculator-form {
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .radio-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: normal;
        }

        .radio-group input[type="radio"] {
            margin-right: 8px;
        }

        .select-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            background-color: #fff;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="6"><path d="M0 0l6 6 6-6z" fill="%23333"/></svg>');
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 30px;
        }

        .btn-calculate {
            background-color: var(--primary-color);
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-calculate:hover {
            background-color: var(--primary-hover);
        }

        .btn-reset {
            background-color: #6c757d;
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 10px;
        }

        .btn-reset:hover {
            background-color: #5a6268;
        }

        /* 结果样式 */
        .calculator-result {
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }

        .result-title {
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .result-value {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .result-explanation {
            color: #666;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .result-category {
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
        }

        .category-normal {
            background-color: #28a745;
            color: #fff;
        }

        .category-warning {
            background-color: #ffc107;
            color: #212529;
        }

        .category-danger {
            background-color: #dc3545;
            color: #fff;
        }

        /* 表格样式 */
        .reference-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .reference-table th,
        .reference-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .reference-table th {
            background-color: var(--secondary-color);
            color: #fff;
        }

        .reference-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        /* 信息框样式 */
        .info-box {
            background-color: #e7f5fe;
            border-left: 4px solid #4da8da;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 5px 5px 0;
        }

        .info-box h4 {
            color: #2a7aaf;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .info-box p {
            color: #555;
            margin-bottom: 0;
        }

        /* 图表和视觉元素 */
        .chart-container {
            margin: 25px 0;
            overflow: hidden;
        }

        .bar-chart {
            display: flex;
            height: 25px;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .bar-segment {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 0.8rem;
            font-weight: bold;
            padding: 0 10px;
        }

        .bar-segment:nth-child(1) {
            background-color: #28a745;
        }

        .bar-segment:nth-child(2) {
            background-color: #17a2b8;
        }

        .bar-segment:nth-child(3) {
            background-color: #ffc107;
        }

        .bar-segment:nth-child(4) {
            background-color: #dc3545;
        }

        .chart-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
        }

        .chart-label {
            font-size: 0.8rem;
            color: #666;
        }

        /* 响应式布局 */
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .radio-group {
                flex-direction: column;
                gap: 10px;
            }

            .calculator-hero h1 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header>
        <div class="container">
            <div class="logo">
                <h1>健身<span>天地</span></h1>
            </div>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="index.html#features">特色服务</a></li>
                    <li><a href="courses.html">课程</a></li>
                    <li><a href="methods.html">健身方法</a></li>
                    <li><a href="#" class="active">健身计算器</a></li>
                    <li><a href="index.html#contact">联系我们</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 计算器页面英雄区 -->
    <section class="calculator-hero">
        <div class="container">
            <h1>健身计算器工具</h1>
            <p>使用我们的专业计算器工具，科学评估身体状况，制定合理的健身计划和目标</p>
        </div>
    </section>

    <!-- 计算器标签页导航 -->
    <section class="calculator-tabs">
        <div class="container">
            <ul>
                <li><a href="#bmi-calculator" class="active">BMI计算器</a></li>
                <li><a href="#bmr-calculator">基础代谢率</a></li>
                <li><a href="#calorie-calculator">热量需求</a></li>
                <li><a href="#1rm-calculator">最大力量</a></li>
                <li><a href="#bodyfat-calculator">体脂率</a></li>
                <li><a href="#heart-rate-calculator">目标心率</a></li>
            </ul>
        </div>
    </section>

    <!-- BMI 计算器 -->
    <section class="calculator-section" id="bmi-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">BMI 计算器</h2>
                <p>身体质量指数(BMI)是评估体重是否健康的常用指标，通过身高与体重的关系计算得出。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-weight"></i>
                    <h3>BMI 计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>BMI(身体质量指数)是衡量人体胖瘦程度的常用指标，通过体重(kg)除以身高(m)的平方计算得出。虽然BMI无法区分脂肪和肌肉，但它仍是评估肥胖程度的快速方法。</p>
                    </div>

                    <div class="info-box">
                        <h4>BMI 分类标准 (亚洲标准)</h4>
                        <p>偏瘦: BMI &lt; 18.5 | 正常: BMI 18.5-23.9 | 超重: BMI 24-27.9 | 肥胖: BMI ≥ 28</p>
                    </div>

                    <div class="calculator-form" id="bmi-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="bmi-height">身高 (cm)</label>
                                <input type="number" id="bmi-height" class="form-control" placeholder="例如: 170" required>
                            </div>
                            <div class="form-group">
                                <label for="bmi-weight">体重 (kg)</label>
                                <input type="number" id="bmi-weight" class="form-control" placeholder="例如: 65" required>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-bmi">计算 BMI</button>
                            <button type="button" class="btn-reset" id="reset-bmi">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="bmi-result">
                        <div class="result-title">您的 BMI 值</div>
                        <div class="result-value" id="bmi-value">0.0</div>
                        <div class="result-explanation" id="bmi-explanation">根据亚洲标准，您的体重属于正常范围。</div>
                        <div id="bmi-category" class="result-category category-normal">正常范围</div>
                    </div>

                    <div class="chart-container">
                        <div class="bar-chart">
                            <div class="bar-segment" style="width: 20%;">偏瘦</div>
                            <div class="bar-segment" style="width: 36%;">正常</div>
                            <div class="bar-segment" style="width: 24%;">超重</div>
                            <div class="bar-segment" style="width: 20%;">肥胖</div>
                        </div>
                        <div class="chart-labels">
                            <span class="chart-label">18.5</span>
                            <span class="chart-label">24.0</span>
                            <span class="chart-label">28.0</span>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>BMI的局限性</h4>
                        <p>BMI不能区分脂肪和肌肉，运动员和健美爱好者可能会有较高的BMI但体脂率很低。此外，BMI不考虑脂肪分布，而腹部脂肪对健康的影响更大。因此，BMI应作为初步筛查工具，而非唯一的健康指标。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- BMR 基础代谢率计算器 -->
    <section class="calculator-section" id="bmr-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">基础代谢率计算器</h2>
                <p>基础代谢率(BMR)是指人体在完全静息状态下维持生命所需的最低热量，是热量消耗的主要组成部分。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-fire"></i>
                    <h3>基础代谢率计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>基础代谢率(BMR)是指人体在安静、空腹和适宜温度环境下，维持生命所需的最低能量消耗。BMR约占总能量消耗的60%-75%，是制定饮食计划的重要基础数据。</p>
                    </div>

                    <div class="calculator-form" id="bmr-form">
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="bmr-gender" value="male" checked> 男性
                            </label>
                            <label>
                                <input type="radio" name="bmr-gender" value="female"> 女性
                            </label>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="bmr-age">年龄</label>
                                <input type="number" id="bmr-age" class="form-control" placeholder="例如: 30" required>
                            </div>
                            <div class="form-group">
                                <label for="bmr-height">身高 (cm)</label>
                                <input type="number" id="bmr-height" class="form-control" placeholder="例如: 170" required>
                            </div>
                            <div class="form-group">
                                <label for="bmr-weight">体重 (kg)</label>
                                <input type="number" id="bmr-weight" class="form-control" placeholder="例如: 65" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="bmr-formula">计算公式</label>
                            <select id="bmr-formula" class="select-control">
                                <option value="mifflin">Mifflin-St Jeor 公式（推荐）</option>
                                <option value="harris">Harris-Benedict 公式</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-bmr">计算 BMR</button>
                            <button type="button" class="btn-reset" id="reset-bmr">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="bmr-result">
                        <div class="result-title">您的基础代谢率 (BMR)</div>
                        <div class="result-value" id="bmr-value">0</div>
                        <div class="result-explanation">这是您身体每天在完全休息状态下消耗的热量。您的日常总热量消耗还需要考虑活动水平。</div>
                    </div>

                    <div class="info-box">
                        <h4>影响基础代谢率的因素</h4>
                        <p>
                            - 年龄：随着年龄增长，BMR通常会下降<br>
                            - 性别：男性的BMR通常高于女性<br>
                            - 体型：肌肉组织比脂肪组织消耗更多能量<br>
                            - 遗传因素：每个人的基础代谢率有个体差异<br>
                            - 激素水平：甲状腺和其他激素可影响BMR
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 热量需求计算器 -->
    <section class="calculator-section" id="calorie-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">每日热量需求计算器</h2>
                <p>根据您的基础代谢率和活动水平，计算维持体重或实现增肌/减脂目标所需的每日热量摄入量。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-utensils"></i>
                    <h3>热量需求计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>每日总能量消耗(TDEE)是基于基础代谢率(BMR)和活动水平计算的每日热量需求。了解自己的TDEE有助于制定适合的饮食计划，实现体重维持、增肌或减脂目标。</p>
                    </div>

                    <div class="calculator-form" id="tdee-form">
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="tdee-gender" value="male" checked> 男性
                            </label>
                            <label>
                                <input type="radio" name="tdee-gender" value="female"> 女性
                            </label>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tdee-age">年龄</label>
                                <input type="number" id="tdee-age" class="form-control" placeholder="例如: 30" required>
                            </div>
                            <div class="form-group">
                                <label for="tdee-height">身高 (cm)</label>
                                <input type="number" id="tdee-height" class="form-control" placeholder="例如: 170" required>
                            </div>
                            <div class="form-group">
                                <label for="tdee-weight">体重 (kg)</label>
                                <input type="number" id="tdee-weight" class="form-control" placeholder="例如: 65" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="tdee-activity">活动水平</label>
                            <select id="tdee-activity" class="select-control">
                                <option value="1.2">久坐不动（几乎不运动）</option>
                                <option value="1.375">轻度活动（每周运动1-3天）</option>
                                <option value="1.55" selected>中度活动（每周运动3-5天）</option>
                                <option value="1.725">高度活动（每周运动6-7天）</option>
                                <option value="1.9">极高活动（每天大量运动或体力劳动）</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="tdee-goal">健身目标</label>
                            <select id="tdee-goal" class="select-control">
                                <option value="maintain">维持体重</option>
                                <option value="mild-loss">轻度减脂（每周减0.25kg）</option>
                                <option value="moderate-loss">中度减脂（每周减0.5kg）</option>
                                <option value="aggressive-loss">积极减脂（每周减1kg）</option>
                                <option value="mild-gain">轻度增肌（每周增0.25kg）</option>
                                <option value="moderate-gain">中度增肌（每周增0.5kg）</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-tdee">计算热量需求</button>
                            <button type="button" class="btn-reset" id="reset-tdee">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="tdee-result">
                        <div class="result-title">您的每日热量需求</div>
                        <div class="result-value" id="tdee-value">0</div>
                        <div class="result-explanation" id="tdee-explanation">这是根据您的目标计算的每日建议热量摄入量。</div>
                        
                        <table class="reference-table" id="macros-table">
                            <thead>
                                <tr>
                                    <th>营养素</th>
                                    <th>百分比</th>
                                    <th>克数</th>
                                    <th>热量</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>蛋白质</td>
                                    <td>30%</td>
                                    <td id="protein-grams">0g</td>
                                    <td id="protein-calories">0 kcal</td>
                                </tr>
                                <tr>
                                    <td>碳水化合物</td>
                                    <td>45%</td>
                                    <td id="carbs-grams">0g</td>
                                    <td id="carbs-calories">0 kcal</td>
                                </tr>
                                <tr>
                                    <td>脂肪</td>
                                    <td>25%</td>
                                    <td id="fats-grams">0g</td>
                                    <td id="fats-calories">0 kcal</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-box">
                        <h4>建议</h4>
                        <p>热量调整应该循序渐进，避免过大的热量赤字或盈余。减脂期间建议每天摄入足够的蛋白质（每公斤体重1.6-2.2克）以保护肌肉。增肌期间适度增加热量摄入，配合力量训练，能够有效促进肌肉生长。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 最大力量计算器 -->
    <section class="calculator-section" id="1rm-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">最大力量计算器</h2>
                <p>最大力量(1RM)是指在特定动作中能够完成一次的最大重量，是力量训练计划的重要参考指标。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-dumbbell"></i>
                    <h3>一次最大重量 (1RM) 计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>一次最大重量(1RM)是指在一次动作中能够举起的最大重量，是力量训练的重要参考指标。直接测试1RM可能有风险，本计算器可以通过次最大重量和重复次数估算1RM，帮助您安全规划训练重量。</p>
                    </div>

                    <div class="calculator-form" id="rm-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="rm-weight">已举重量 (kg)</label>
                                <input type="number" id="rm-weight" class="form-control" placeholder="例如: 100" required>
                            </div>
                            <div class="form-group">
                                <label for="rm-reps">完成的重复次数</label>
                                <input type="number" id="rm-reps" class="form-control" placeholder="例如: 8" min="1" max="12" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="rm-formula">计算公式</label>
                            <select id="rm-formula" class="select-control">
                                <option value="brzycki" selected>Brzycki 公式</option>
                                <option value="epley">Epley 公式</option>
                                <option value="lombardi">Lombardi 公式</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-rm">计算 1RM</button>
                            <button type="button" class="btn-reset" id="reset-rm">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="rm-result">
                        <div class="result-title">您的预估最大力量 (1RM)</div>
                        <div class="result-value" id="rm-value">0 kg</div>
                        <div class="result-explanation">基于您的输入，下表显示了不同重复次数对应的重量：</div>
                        
                        <table class="reference-table" id="rm-table">
                            <thead>
                                <tr>
                                    <th>重复次数</th>
                                    <th>重量 (kg)</th>
                                    <th>1RM 百分比</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1 (100%)</td>
                                    <td id="rm-1">0</td>
                                    <td>100%</td>
                                </tr>
                                <tr>
                                    <td>2 (95%)</td>
                                    <td id="rm-2">0</td>
                                    <td>95%</td>
                                </tr>
                                <tr>
                                    <td>3 (93%)</td>
                                    <td id="rm-3">0</td>
                                    <td>93%</td>
                                </tr>
                                <tr>
                                    <td>5 (87%)</td>
                                    <td id="rm-5">0</td>
                                    <td>87%</td>
                                </tr>
                                <tr>
                                    <td>8 (80%)</td>
                                    <td id="rm-8">0</td>
                                    <td>80%</td>
                                </tr>
                                <tr>
                                    <td>10 (75%)</td>
                                    <td id="rm-10">0</td>
                                    <td>75%</td>
                                </tr>
                                <tr>
                                    <td>12 (70%)</td>
                                    <td id="rm-12">0</td>
                                    <td>70%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-box">
                        <h4>训练强度推荐</h4>
                        <p>
                            - 增加最大力量: 使用85-95% 1RM, 1-5次重复<br>
                            - 增加肌肉体积: 使用67-85% 1RM, 6-12次重复<br>
                            - 肌肉耐力: 使用≤67% 1RM, 12+次重复<br>
                            - 爆发力: 使用30-60% 1RM, 执行快速动作
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 体脂率计算器 -->
    <section class="calculator-section" id="bodyfat-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">体脂率计算器</h2>
                <p>体脂率是体内脂肪占总体重的百分比，是比BMI更精确的身体成分评估指标，对健康和训练计划有重要参考意义。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-percentage"></i>
                    <h3>体脂率估算计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>体脂率是体内脂肪重量占总体重的百分比，是评估身体成分的重要指标。本计算器使用美海军公式，通过腰围、颈围（和女性的臀围）来估算体脂率，提供相对准确的参考值。</p>
                    </div>

                    <div class="calculator-form" id="bodyfat-form">
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="bodyfat-gender" value="male" checked> 男性
                            </label>
                            <label>
                                <input type="radio" name="bodyfat-gender" value="female"> 女性
                            </label>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="bodyfat-height">身高 (cm)</label>
                                <input type="number" id="bodyfat-height" class="form-control" placeholder="例如: 170" required>
                            </div>
                            <div class="form-group">
                                <label for="bodyfat-neck">颈围 (cm)</label>
                                <input type="number" id="bodyfat-neck" class="form-control" placeholder="例如: 37" step="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="bodyfat-waist">腰围 (cm)</label>
                                <input type="number" id="bodyfat-waist" class="form-control" placeholder="例如: 85" step="0.1" required>
                            </div>
                        </div>
                        <div class="form-group female-only" style="display:none;">
                            <label for="bodyfat-hip">臀围 (cm)</label>
                            <input type="number" id="bodyfat-hip" class="form-control" placeholder="例如: 95" step="0.1">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-bodyfat">计算体脂率</button>
                            <button type="button" class="btn-reset" id="reset-bodyfat">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="bodyfat-result">
                        <div class="result-title">您的估计体脂率</div>
                        <div class="result-value" id="bodyfat-value">0.0%</div>
                        <div class="result-explanation" id="bodyfat-explanation"></div>
                        <div id="bodyfat-category" class="result-category category-normal">健康范围</div>
                    </div>

                    <table class="reference-table">
                        <thead>
                            <tr>
                                <th>分类</th>
                                <th>男性体脂率</th>
                                <th>女性体脂率</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>必需脂肪</td>
                                <td>2-5%</td>
                                <td>10-13%</td>
                            </tr>
                            <tr>
                                <td>运动员</td>
                                <td>6-13%</td>
                                <td>14-20%</td>
                            </tr>
                            <tr>
                                <td>健身</td>
                                <td>14-17%</td>
                                <td>21-24%</td>
                            </tr>
                            <tr>
                                <td>可接受</td>
                                <td>18-24%</td>
                                <td>25-31%</td>
                            </tr>
                            <tr>
                                <td>肥胖</td>
                                <td>≥25%</td>
                                <td>≥32%</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h4>测量提示</h4>
                        <p>为了获得最准确的结果，测量时应使用柔软的卷尺，保持放松状态，呼气后测量。颈围应在喉结下方测量，腰围在肚脐水平测量，臀围在臀部最宽处测量。请注意，此计算器提供的是估算值，如需更准确的体脂率测量，建议使用专业设备如皮褶测量仪、生物电阻抗分析仪或水中称重法。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 目标心率计算器 -->
    <section class="calculator-section" id="heart-rate-calculator">
        <div class="container">
            <div class="calculator-intro">
                <h2 class="section-title animate">目标心率计算器</h2>
                <p>目标心率区间是根据最大心率计算的运动强度范围，有助于确保训练效果和安全性。</p>
            </div>

            <div class="calculator-card animate">
                <div class="calculator-header">
                    <i class="fas fa-heartbeat"></i>
                    <h3>目标心率区间计算器</h3>
                </div>
                <div class="calculator-body">
                    <div class="calculator-description">
                        <p>合适的心率区间训练可以提高有氧能力，增强心肺功能，促进脂肪燃烧。不同的心率区间对应不同的训练效果，了解自己的目标心率区间可以帮助您更有效地进行有氧训练。</p>
                    </div>

                    <div class="calculator-form" id="heart-rate-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="heart-age">年龄</label>
                                <input type="number" id="heart-age" class="form-control" placeholder="例如: 30" required>
                            </div>
                            <div class="form-group">
                                <label for="resting-heart-rate">静息心率（可选）</label>
                                <input type="number" id="resting-heart-rate" class="form-control" placeholder="例如: 65">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="heart-rate-method">计算方法</label>
                            <select id="heart-rate-method" class="select-control">
                                <option value="standard" selected>标准方法 (220-年龄)</option>
                                <option value="tanaka">Tanaka方法 (208-0.7×年龄)</option>
                                <option value="karvonen">Karvonen方法 (需要静息心率)</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-calculate" id="calculate-heart-rate">计算目标心率</button>
                            <button type="button" class="btn-reset" id="reset-heart-rate">重置</button>
                        </div>
                    </div>

                    <div class="calculator-result" id="heart-rate-result">
                        <div class="result-title">您的最大心率</div>
                        <div class="result-value" id="max-heart-rate">0 bpm</div>
                        <div class="result-explanation">下表显示了不同训练目标的心率区间:</div>
                        
                        <table class="reference-table" id="heart-rate-table">
                            <thead>
                                <tr>
                                    <th>训练区间</th>
                                    <th>强度</th>
                                    <th>心率范围</th>
                                    <th>训练效果</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>区间1</td>
                                    <td>50-60%</td>
                                    <td id="zone1">0-0 bpm</td>
                                    <td>热身/恢复训练</td>
                                </tr>
                                <tr>
                                    <td>区间2</td>
                                    <td>60-70%</td>
                                    <td id="zone2">0-0 bpm</td>
                                    <td>脂肪燃烧/耐力基础</td>
                                </tr>
                                <tr>
                                    <td>区间3</td>
                                    <td>70-80%</td>
                                    <td id="zone3">0-0 bpm</td>
                                    <td>有氧耐力/心肺功能提升</td>
                                </tr>
                                <tr>
                                    <td>区间4</td>
                                    <td>80-90%</td>
                                    <td id="zone4">0-0 bpm</td>
                                    <td>无氧耐力/乳酸阈值提高</td>
                                </tr>
                                <tr>
                                    <td>区间5</td>
                                    <td>90-100%</td>
                                    <td id="zone5">0-0 bpm</td>
                                    <td>最大表现/冲刺训练</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-box">
                        <h4>心率训练建议</h4>
                        <p>
                            - 在区间1-2训练适合初学者和恢复性训练<br>
                            - 区间3提供最佳的有氧训练效果<br>
                            - 区间4-5应适当控制时间，避免过度训练<br>
                            - 高强度间歇训练(HIIT)通常在区间4-5和低强度恢复之间交替<br>
                            - 使用心率监测设备如心率表或智能手表可以帮助您保持在适当的心率区间
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <h3>关于健身天地</h3>
                    <p>我们致力于提供专业的健身服务和个性化指导，帮助每一位会员实现健康生活和理想体态。</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-weixin"></i></a>
                        <a href="#"><i class="fab fa-weibo"></i></a>
                        <a href="#"><i class="fab fa-qq"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h3>快速链接</h3>
                    <ul>
                        <li><a href="index.html">首页</a></li>
                        <li><a href="index.html#features">特色服务</a></li>
                        <li><a href="courses.html">课程</a></li>
                        <li><a href="methods.html">健身方法</a></li>
                        <li><a href="#">健身计算器</a></li>
                        <li><a href="index.html#blog">健身知识</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>联系我们</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 北京市海淀区中关村大街1号</li>
                        <li><i class="fas fa-phone"></i> 400-123-4567</li>
                        <li><i class="fas fa-envelope"></i> info@jianshen.com</li>
                        <li><i class="fas fa-clock"></i> 周一至周日 08:00 - 22:00</li>
                    </ul>
                </div>
                <div class="footer-newsletter">
                    <h3>订阅我们</h3>
                    <p>订阅我们的电子报，获取最新的健身资讯和优惠活动。</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="您的邮箱地址">
                        <button type="submit"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2025 健身天地. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 标签页导航激活状态
            const tabLinks = document.querySelectorAll('.calculator-tabs ul li a');
            
            // BMI计算器
            const bmiForm = document.getElementById('bmi-form');
            const bmiResult = document.getElementById('bmi-result');
            const bmiValue = document.getElementById('bmi-value');
            const bmiExplanation = document.getElementById('bmi-explanation');
            const bmiCategory = document.getElementById('bmi-category');
            
            document.getElementById('calculate-bmi').addEventListener('click', function() {
                const height = parseFloat(document.getElementById('bmi-height').value) / 100; // 转换为米
                const weight = parseFloat(document.getElementById('bmi-weight').value);
                
                if (!height || !weight || height <= 0 || weight <= 0) {
                    alert('请输入有效的身高和体重');
                    return;
                }
                
                const bmi = weight / (height * height);
                bmiValue.textContent = bmi.toFixed(1);
                
                let category, explanation;
                
                // 使用亚洲标准
                if (bmi < 18.5) {
                    category = '偏瘦';
                    explanation = '您的体重低于健康范围，可能需要适当增加体重。';
                    bmiCategory.className = 'result-category category-warning';
                } else if (bmi >= 18.5 && bmi < 24) {
                    category = '正常范围';
                    explanation = '根据亚洲标准，您的体重属于正常范围。';
                    bmiCategory.className = 'result-category category-normal';
                } else if (bmi >= 24 && bmi < 28) {
                    category = '超重';
                    explanation = '您的体重高于健康范围，建议关注饮食和增加运动。';
                    bmiCategory.className = 'result-category category-warning';
                } else {
                    category = '肥胖';
                    explanation = '您的体重显著高于健康范围，可能增加健康风险，建议咨询专业医生或营养师。';
                    bmiCategory.className = 'result-category category-danger';
                }
                
                bmiExplanation.textContent = explanation;
                bmiCategory.textContent = category;
                bmiResult.style.display = 'block';
            });
            
            document.getElementById('reset-bmi').addEventListener('click', function() {
                document.getElementById('bmi-height').value = '';
                document.getElementById('bmi-weight').value = '';
                bmiResult.style.display = 'none';
            });
            
            // BMR计算器
            const bmrForm = document.getElementById('bmr-form');
            const bmrResult = document.getElementById('bmr-result');
            const bmrValue = document.getElementById('bmr-value');
            
            document.getElementById('calculate-bmr').addEventListener('click', function() {
                const gender = document.querySelector('input[name="bmr-gender"]:checked').value;
                const age = parseInt(document.getElementById('bmr-age').value);
                const height = parseFloat(document.getElementById('bmr-height').value);
                const weight = parseFloat(document.getElementById('bmr-weight').value);
                const formula = document.getElementById('bmr-formula').value;
                
                if (!age || !height || !weight || age <= 0 || height <= 0 || weight <= 0) {
                    alert('请输入有效的年龄、身高和体重');
                    return;
                }
                
                let bmr = 0;
                
                if (formula === 'mifflin') {
                    // Mifflin-St Jeor公式
                    if (gender === 'male') {
                        bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
                    } else {
                        bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
                    }
                } else {
                    // Harris-Benedict公式
                    if (gender === 'male') {
                        bmr = 66 + (13.7 * weight) + (5 * height) - (6.8 * age);
                    } else {
                        bmr = 655 + (9.6 * weight) + (1.8 * height) - (4.7 * age);
                    }
                }
                
                bmrValue.textContent = Math.round(bmr) + ' 卡路里/天';
                bmrResult.style.display = 'block';
            });
            
            document.getElementById('reset-bmr').addEventListener('click', function() {
                document.getElementById('bmr-age').value = '';
                document.getElementById('bmr-height').value = '';
                document.getElementById('bmr-weight').value = '';
                bmrResult.style.display = 'none';
            });
            
            // 热量需求计算器
            const tdeeForm = document.getElementById('tdee-form');
            const tdeeResult = document.getElementById('tdee-result');
            const tdeeValue = document.getElementById('tdee-value');
            const tdeeExplanation = document.getElementById('tdee-explanation');
            
            document.getElementById('calculate-tdee').addEventListener('click', function() {
                const gender = document.querySelector('input[name="tdee-gender"]:checked').value;
                const age = parseInt(document.getElementById('tdee-age').value);
                const height = parseFloat(document.getElementById('tdee-height').value);
                const weight = parseFloat(document.getElementById('tdee-weight').value);
                const activityLevel = parseFloat(document.getElementById('tdee-activity').value);
                const goal = document.getElementById('tdee-goal').value;
                
                if (!age || !height || !weight || age <= 0 || height <= 0 || weight <= 0) {
                    alert('请输入有效的年龄、身高和体重');
                    return;
                }
                
                // 使用Mifflin-St Jeor公式计算BMR
                let bmr = 0;
                if (gender === 'male') {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
                } else {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
                }
                
                // 计算TDEE(每日总能量消耗)
                const tdee = bmr * activityLevel;
                let targetCalories = tdee;
                
                // 根据目标调整热量
                switch (goal) {
                    case 'mild-loss':
                        targetCalories = tdee - 250;
                        break;
                    case 'moderate-loss':
                        targetCalories = tdee - 500;
                        break;
                    case 'aggressive-loss':
                        targetCalories = tdee - 1000;
                        break;
                    case 'mild-gain':
                        targetCalories = tdee + 250;
                        break;
                    case 'moderate-gain':
                        targetCalories = tdee + 500;
                        break;
                    default:
                        targetCalories = tdee;
                }
                
                // 计算宏量营养素分配
                const protein = Math.round((targetCalories * 0.3) / 4); // 蛋白质每克4卡路里
                const carbs = Math.round((targetCalories * 0.45) / 4);  // 碳水每克4卡路里
                const fats = Math.round((targetCalories * 0.25) / 9);   // 脂肪每克9卡路里
                
                // 更新结果
                tdeeValue.textContent = Math.round(targetCalories) + ' 卡路里/天';
                
                document.getElementById('protein-grams').textContent = protein + 'g';
                document.getElementById('protein-calories').textContent = (protein * 4) + ' kcal';
                
                document.getElementById('carbs-grams').textContent = carbs + 'g';
                document.getElementById('carbs-calories').textContent = (carbs * 4) + ' kcal';
                
                document.getElementById('fats-grams').textContent = fats + 'g';
                document.getElementById('fats-calories').textContent = (fats * 9) + ' kcal';
                
                // 设置目标解释
                let goalExplanation = '';
                switch (goal) {
                    case 'maintain':
                        goalExplanation = '这是维持您当前体重所需的每日热量。';
                        break;
                    case 'mild-loss':
                        goalExplanation = '这是每周减重约0.25kg所需的每日热量（轻度赤字）。';
                        break;
                    case 'moderate-loss':
                        goalExplanation = '这是每周减重约0.5kg所需的每日热量（中度赤字）。';
                        break;
                    case 'aggressive-loss':
                        goalExplanation = '这是每周减重约1kg所需的每日热量（高度赤字）。长期维持可能具有挑战性，请确保摄入足够营养。';
                        break;
                    case 'mild-gain':
                        goalExplanation = '这是促进肌肉生长和每周增重约0.25kg的每日热量（轻度盈余）。';
                        break;
                    case 'moderate-gain':
                        goalExplanation = '这是促进肌肉生长和每周增重约0.5kg的每日热量（中度盈余）。';
                        break;
                }
                tdeeExplanation.textContent = goalExplanation;
                
                tdeeResult.style.display = 'block';
            });
            
            document.getElementById('reset-tdee').addEventListener('click', function() {
                document.getElementById('tdee-age').value = '';
                document.getElementById('tdee-height').value = '';
                document.getElementById('tdee-weight').value = '';
                tdeeResult.style.display = 'none';
            });
            
            // 最大力量计算器
            const rmForm = document.getElementById('rm-form');
            const rmResult = document.getElementById('rm-result');
            const rmValue = document.getElementById('rm-value');
            
            document.getElementById('calculate-rm').addEventListener('click', function() {
                const weight = parseFloat(document.getElementById('rm-weight').value);
                const reps = parseInt(document.getElementById('rm-reps').value);
                const formula = document.getElementById('rm-formula').value;
                
                if (!weight || !reps || weight <= 0 || reps <= 0 || reps > 12) {
                    alert('请输入有效的重量和重复次数（1-12次）');
                    return;
                }
                
                let oneRM = 0;
                
                // 计算1RM
                switch (formula) {
                    case 'brzycki':
                        oneRM = weight * (36 / (37 - reps));
                        break;
                    case 'epley':
                        oneRM = weight * (1 + 0.0333 * reps);
                        break;
                    case 'lombardi':
                        oneRM = weight * Math.pow(reps, 0.1);
                        break;
                    default:
                        oneRM = weight * (36 / (37 - reps));
                }
                
                oneRM = Math.round(oneRM);
                rmValue.textContent = oneRM + ' kg';
                
                // 更新不同重复次数的重量表
                document.getElementById('rm-1').textContent = oneRM;
                document.getElementById('rm-2').textContent = Math.round(oneRM * 0.95);
                document.getElementById('rm-3').textContent = Math.round(oneRM * 0.93);
                document.getElementById('rm-5').textContent = Math.round(oneRM * 0.87);
                document.getElementById('rm-8').textContent = Math.round(oneRM * 0.80);
                document.getElementById('rm-10').textContent = Math.round(oneRM * 0.75);
                document.getElementById('rm-12').textContent = Math.round(oneRM * 0.70);
                
                rmResult.style.display = 'block';
            });
            
            document.getElementById('reset-rm').addEventListener('click', function() {
                document.getElementById('rm-weight').value = '';
                document.getElementById('rm-reps').value = '';
                rmResult.style.display = 'none';
            });
            
            // 体脂率计算器
            const bodyfatForm = document.getElementById('bodyfat-form');
            const bodyfatResult = document.getElementById('bodyfat-result');
            const bodyfatValue = document.getElementById('bodyfat-value');
            const bodyfatExplanation = document.getElementById('bodyfat-explanation');
            const bodyfatCategory = document.getElementById('bodyfat-category');
            
            // 显示/隐藏臀围输入框
            document.querySelectorAll('input[name="bodyfat-gender"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const femaleOnly = document.querySelector('.female-only');
                    if (this.value === 'female') {
                        femaleOnly.style.display = 'block';
                    } else {
                        femaleOnly.style.display = 'none';
                    }
                });
            });
            
            document.getElementById('calculate-bodyfat').addEventListener('click', function() {
                const gender = document.querySelector('input[name="bodyfat-gender"]:checked').value;
                const height = parseFloat(document.getElementById('bodyfat-height').value);
                const neck = parseFloat(document.getElementById('bodyfat-neck').value);
                const waist = parseFloat(document.getElementById('bodyfat-waist').value);
                let hip = 0;
                
                if (gender === 'female') {
                    hip = parseFloat(document.getElementById('bodyfat-hip').value);
                    if (!hip || hip <= 0) {
                        alert('请输入有效的臀围');
                        return;
                    }
                }
                
                if (!height || !neck || !waist || height <= 0 || neck <= 0 || waist <= 0) {
                    alert('请输入有效的身高、颈围和腰围');
                    return;
                }
                
                let bodyfat = 0;
                
                // 使用美海军公式计算体脂率
                if (gender === 'male') {
                    bodyfat = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(height)) - 450;
                } else {
                    bodyfat = 495 / (1.29579 - 0.35004 * Math.log10(waist + hip - neck) + 0.22100 * Math.log10(height)) - 450;
                }
                
                bodyfat = Math.max(0, Math.min(bodyfat, 70)); // 限制范围
                
                bodyfatValue.textContent = bodyfat.toFixed(1) + '%';
                
                // 设置体脂率分类和解释
                let category, explanation;
                
                if (gender === 'male') {
                    if (bodyfat < 6) {
                        category = '必需脂肪';
                        explanation = '这是维持基本生理功能的最低脂肪水平，长期维持可能影响健康。';
                        bodyfatCategory.className = 'result-category category-warning';
                    } else if (bodyfat >= 6 && bodyfat < 14) {
                        category = '运动员水平';
                        explanation = '这是竞技运动员通常保持的较低体脂率，肌肉线条清晰可见。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else if (bodyfat >= 14 && bodyfat < 18) {
                        category = '健身水平';
                        explanation = '这是健身爱好者通常的体脂率范围，肌肉线条较为明显。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else if (bodyfat >= 18 && bodyfat < 25) {
                        category = '可接受范围';
                        explanation = '这是健康的一般体脂率范围，虽然肌肉线条不太明显，但健康风险较低。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else {
                        category = '肥胖';
                        explanation = '体脂率偏高可能增加多种健康问题的风险，建议适当减少体脂。';
                        bodyfatCategory.className = 'result-category category-danger';
                    }
                } else {
                    if (bodyfat < 14) {
                        category = '必需脂肪';
                        explanation = '这是维持基本生理功能的最低脂肪水平，长期维持可能影响健康。';
                        bodyfatCategory.className = 'result-category category-warning';
                    } else if (bodyfat >= 14 && bodyfat < 21) {
                        category = '运动员水平';
                        explanation = '这是女性运动员通常保持的较低体脂率，肌肉线条清晰可见。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else if (bodyfat >= 21 && bodyfat < 25) {
                        category = '健身水平';
                        explanation = '这是健身爱好者女性通常的体脂率范围，身材匀称有线条。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else if (bodyfat >= 25 && bodyfat < 32) {
                        category = '可接受范围';
                        explanation = '这是健康的一般体脂率范围，健康风险较低。';
                        bodyfatCategory.className = 'result-category category-normal';
                    } else {
                        category = '肥胖';
                        explanation = '体脂率偏高可能增加多种健康问题的风险，建议适当减少体脂。';
                        bodyfatCategory.className = 'result-category category-danger';
                    }
                }
                
                bodyfatExplanation.textContent = explanation;
                bodyfatCategory.textContent = category;
                
                bodyfatResult.style.display = 'block';
            });
            
            document.getElementById('reset-bodyfat').addEventListener('click', function() {
                document.getElementById('bodyfat-height').value = '';
                document.getElementById('bodyfat-neck').value = '';
                document.getElementById('bodyfat-waist').value = '';
                document.getElementById('bodyfat-hip').value = '';
                bodyfatResult.style.display = 'none';
            });
            
            // 心率计算器
            const heartRateForm = document.getElementById('heart-rate-form');
            const heartRateResult = document.getElementById('heart-rate-result');
            const maxHeartRate = document.getElementById('max-heart-rate');
            
            document.getElementById('calculate-heart-rate').addEventListener('click', function() {
                const age = parseInt(document.getElementById('heart-age').value);
                const restingHR = parseInt(document.getElementById('resting-heart-rate').value) || 0;
                const method = document.getElementById('heart-rate-method').value;
                
                if (!age || age <= 0 || age > 120) {
                    alert('请输入有效的年龄');
                    return;
                }
                
                if (method === 'karvonen' && !restingHR) {
                    alert('使用Karvonen方法需要输入静息心率');
                    return;
                }
                
                let mhr = 0; // 最大心率
                
                // 计算最大心率
                switch (method) {
                    case 'standard':
                        mhr = 220 - age;
                        break;
                    case 'tanaka':
                        mhr = 208 - 0.7 * age;
                        break;
                    case 'karvonen':
                        mhr = 220 - age; // 先用标准方法计算MHR
                        break;
                }
                
                maxHeartRate.textContent = Math.round(mhr) + ' bpm';
                
                // 计算不同心率区间
                let zones = [];
                
                if (method === 'karvonen') {
                    // Karvonen 方法 (心率储备法)
                    const hrr = mhr - restingHR; // 心率储备
                    zones = [
                        `${Math.round(restingHR + hrr * 0.5)}-${Math.round(restingHR + hrr * 0.6)} bpm`,
                        `${Math.round(restingHR + hrr * 0.6)}-${Math.round(restingHR + hrr * 0.7)} bpm`,
                        `${Math.round(restingHR + hrr * 0.7)}-${Math.round(restingHR + hrr * 0.8)} bpm`,
                        `${Math.round(restingHR + hrr * 0.8)}-${Math.round(restingHR + hrr * 0.9)} bpm`,
                        `${Math.round(restingHR + hrr * 0.9)}-${Math.round(mhr)} bpm`
                    ];
                } else {
                    // 直接百分比法
                    zones = [
                        `${Math.round(mhr * 0.5)}-${Math.round(mhr * 0.6)} bpm`,
                        `${Math.round(mhr * 0.6)}-${Math.round(mhr * 0.7)} bpm`,
                        `${Math.round(mhr * 0.7)}-${Math.round(mhr * 0.8)} bpm`,
                        `${Math.round(mhr * 0.8)}-${Math.round(mhr * 0.9)} bpm`,
                        `${Math.round(mhr * 0.9)}-${Math.round(mhr)} bpm`
                    ];
                }
                
                // 更新心率区间表
                document.getElementById('zone1').textContent = zones[0];
                document.getElementById('zone2').textContent = zones[1];
                document.getElementById('zone3').textContent = zones[2];
                document.getElementById('zone4').textContent = zones[3];
                document.getElementById('zone5').textContent = zones[4];
                
                heartRateResult.style.display = 'block';
            });
            
            document.getElementById('reset-heart-rate').addEventListener('click', function() {
                document.getElementById('heart-age').value = '';
                document.getElementById('resting-heart-rate').value = '';
                heartRateResult.style.display = 'none';
            });
            
            // 页面滚动时激活对应标签页
            function setActiveTab() {
                const scrollPosition = window.scrollY;
                
                document.querySelectorAll('.calculator-section').forEach(section => {
                    if (section.id) {
                        const sectionTop = section.offsetTop - 150;
                        const sectionBottom = sectionTop + section.offsetHeight;
                        
                        if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                            tabLinks.forEach(link => {
                                link.classList.remove('active');
                                if (link.getAttribute('href') === `#${section.id}`) {
                                    link.classList.add('active');
                                }
                            });
                        }
                    }
                });
            }
            
            window.addEventListener('scroll', setActiveTab);
            setActiveTab(); // 初始设置
            
            // FAQ切换显示
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentNode;
                    faqItem.classList.toggle('active');
                });
            });
        });
    </script>
</body>
</html>
